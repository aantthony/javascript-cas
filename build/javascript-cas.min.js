/**
*  javascript-cas v3.0.2
*  https://github.com/aantthony/javascript-cas
*  
*  Copyright 2010 Anthony Foster.
*  2013-08-07
*/
(function(t,e,n){function r(n,s){if(!e[n]){if(!t[n]){var o="function"==typeof require&&require;if(!s&&o)return o(n,!0);if(i)return i(n,!0);throw Error("Cannot find module '"+n+"'")}var a=e[n]={exports:{}};t[n][0](function(e){var i=t[n][1][e];return r(i?i:e)},a,a.exports)}return e[n].exports}for(var i="function"==typeof require&&require,s=0;n.length>s;s++)r(n[s]);return r})({1:[function(t,e){"use strict";var n=t("./lib");if("undefined"!=typeof window){var r=window.M;window.M=n,n.noConflict=function(){return window.M=r,n}}e!==void 0&&(e.exports=n)},{"./lib":2}],2:[function(t,e){(function(){"use strict";function n(t,e){return console.log("javascript-cas invoked:",t),o.parse(t,e||u)}var r=t("./Expression"),i=t("./Context"),s=t("./Error"),o=t("./Language/default"),a=t("./Language").Code,u=t("./global"),l=t("./global/defaults");l.attach(u),e.exports=n,n.toString=function(){return["function M(expression, context) {","    /*!","     *  Math JavaScript Library v3.9.1","     *  https://github.com/aantthony/javascript-cas","     *  ","     *  Copyright 2010 Anthony Foster. All rights reserved.","     */","    [awesome code]","}"].join("\n")},n.Context=i,n.Expression=r,n.Global=u,n.Error=s,r.prototype.s=function(t){return a.language=o,a.newContext(),this._s(a,t)},r.prototype.compile=function(t){return this.s("text/javascript").compile(t)};var c={};n.register=function(t,e){if(r.prototype[t])throw"Method ."+t+" is already in use!";c[t]=e},n.load=function(t,e){c[t](n,r,e),delete c[t]}})()},{"./Language/default":3,"./global/defaults":4,"./Expression":5,"./Context":6,"./Error":7,"./Language":8,"./global":9}],7:[function(t,e){function n(t){this.message=t}n.prototype=Object.create(Error.prototype),e.exports=n},{}],9:[function(t,e){(function(){var t={};e.exports=t})()},{}],10:[function(t,e,n){function r(t){return t instanceof Array||Array.isArray(t)||t&&t!==Object.prototype&&r(t.__proto__)}function i(t){return t instanceof RegExp||"object"==typeof t&&"[object RegExp]"===Object.prototype.toString.call(t)}function s(t){if(t instanceof Date)return!0;if("object"!=typeof t)return!1;var e=Date.prototype&&a(Date.prototype),n=t.__proto__&&a(t.__proto__);return JSON.stringify(n)===JSON.stringify(e)}t("events"),n.isArray=r,n.isDate=function(t){return"[object Date]"===Object.prototype.toString.call(t)},n.isRegExp=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},n.print=function(){},n.puts=function(){},n.debug=function(){},n.inspect=function(t,e,u,l){function c(t,u){if(t&&"function"==typeof t.inspect&&t!==n&&(!t.constructor||t.constructor.prototype!==t))return t.inspect(u);switch(typeof t){case"undefined":return f("undefined","undefined");case"string":var l="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return f(l,"string");case"number":return f(""+t,"number");case"boolean":return f(""+t,"boolean")}if(null===t)return f("null","null");var p=o(t),m=e?a(t):p;if("function"==typeof t&&0===m.length){if(i(t))return f(""+t,"regexp");var g=t.name?": "+t.name:"";return f("[Function"+g+"]","special")}if(s(t)&&0===m.length)return f(t.toUTCString(),"date");var v,y,x;if(r(t)?(y="Array",x=["[","]"]):(y="Object",x=["{","}"]),"function"==typeof t){var d=t.name?": "+t.name:"";v=i(t)?" "+t:" [Function"+d+"]"}else v="";if(s(t)&&(v=" "+t.toUTCString()),0===m.length)return x[0]+v+x[1];if(0>u)return i(t)?f(""+t,"regexp"):f("[Object]","special");h.push(t);var w=m.map(function(e){var n,i;if(t.__lookupGetter__&&(t.__lookupGetter__(e)?i=t.__lookupSetter__(e)?f("[Getter/Setter]","special"):f("[Getter]","special"):t.__lookupSetter__(e)&&(i=f("[Setter]","special"))),0>p.indexOf(e)&&(n="["+e+"]"),i||(0>h.indexOf(t[e])?(i=null===u?c(t[e]):c(t[e],u-1),i.indexOf("\n")>-1&&(i=r(t)?i.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+i.split("\n").map(function(t){return"   "+t}).join("\n"))):i=f("[Circular]","special")),n===void 0){if("Array"===y&&e.match(/^\d+$/))return i;n=JSON.stringify(""+e),n.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(n=n.substr(1,n.length-2),n=f(n,"name")):(n=n.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),n=f(n,"string"))}return n+": "+i});h.pop();var b=0,_=w.reduce(function(t,e){return b++,e.indexOf("\n")>=0&&b++,t+e.length+1},0);return w=_>50?x[0]+(""===v?"":v+"\n ")+" "+w.join(",\n  ")+" "+x[1]:x[0]+v+" "+w.join(", ")+" "+x[1]}var h=[],f=function(t,e){var n={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},r={special:"cyan",number:"blue","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"}[e];return r?"["+n[r][0]+"m"+t+"["+n[r][1]+"m":t};return l||(f=function(t){return t}),c(t,u===void 0?2:u)},n.log=function(){},n.pump=null;var o=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e},a=Object.getOwnPropertyNames||function(t){var e=[];for(var n in t)Object.hasOwnProperty.call(t,n)&&e.push(n);return e},u=Object.create||function(t,e){var n;if(null===t)n={__proto__:null};else{if("object"!=typeof t)throw new TypeError("typeof prototype["+typeof t+"] != 'object'");var r=function(){};r.prototype=t,n=new r,n.__proto__=t}return e!==void 0&&Object.defineProperties&&Object.defineProperties(n,e),n};n.inherits=function(t,e){t.super_=e,t.prototype=u(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})};var l=/%[sdj%]/g;n.format=function(t){if("string"!=typeof t){for(var e=[],r=0;arguments.length>r;r++)e.push(n.inspect(arguments[r]));return e.join(" ")}for(var r=1,i=arguments,s=i.length,o=(t+"").replace(l,function(t){if("%%"===t)return"%";if(r>=s)return t;switch(t){case"%s":return i[r++]+"";case"%d":return Number(i[r++]);case"%j":return JSON.stringify(i[r++]);default:return t}}),a=i[r];s>r;a=i[++r])o+=null===a||"object"!=typeof a?" "+a:" "+n.inspect(a);return o}},{events:11}],12:[function(t,e){var n=e.exports={};n.nextTick=function(){var t="undefined"!=typeof window&&window.setImmediate,e="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(t)return function(t){return window.setImmediate(t)};if(e){var n=[];return window.addEventListener("message",function(t){if(t.source===window&&"process-tick"===t.data&&(t.stopPropagation(),n.length>0)){var e=n.shift();e()}},!0),function(t){n.push(t),window.postMessage("process-tick","*")}}return function(t){setTimeout(t,0)}}(),n.title="browser",n.browser=!0,n.env={},n.argv=[],n.binding=function(){throw Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(){throw Error("process.chdir is not supported")}},{}],11:[function(t,e,n){(function(t){function e(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0;t.length>n;n++)if(e===t[n])return n;return-1}t.EventEmitter||(t.EventEmitter=function(){});var r=n.EventEmitter=t.EventEmitter,i="function"==typeof Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},s=10;r.prototype.setMaxListeners=function(t){this._events||(this._events={}),this._events.maxListeners=t},r.prototype.emit=function(t){if("error"===t&&(!this._events||!this._events.error||i(this._events.error)&&!this._events.error.length))throw arguments[1]instanceof Error?arguments[1]:Error("Uncaught, unspecified 'error' event.");if(!this._events)return!1;var e=this._events[t];if(!e)return!1;if("function"==typeof e){switch(arguments.length){case 1:e.call(this);break;case 2:e.call(this,arguments[1]);break;case 3:e.call(this,arguments[1],arguments[2]);break;default:var n=Array.prototype.slice.call(arguments,1);e.apply(this,n)}return!0}if(i(e)){for(var n=Array.prototype.slice.call(arguments,1),r=e.slice(),s=0,o=r.length;o>s;s++)r[s].apply(this,n);return!0}return!1},r.prototype.addListener=function(t,e){if("function"!=typeof e)throw Error("addListener only takes instances of Function");if(this._events||(this._events={}),this.emit("newListener",t,e),this._events[t])if(i(this._events[t])){if(!this._events[t].warned){var n;n=void 0!==this._events.maxListeners?this._events.maxListeners:s,n&&n>0&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),console.trace())}this._events[t].push(e)}else this._events[t]=[this._events[t],e];else this._events[t]=e;return this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,e){var n=this;return n.on(t,function r(){n.removeListener(t,r),e.apply(this,arguments)}),this},r.prototype.removeListener=function(t,n){if("function"!=typeof n)throw Error("removeListener only takes instances of Function");if(!this._events||!this._events[t])return this;var r=this._events[t];if(i(r)){var s=e(r,n);if(0>s)return this;r.splice(s,1),0==r.length&&delete this._events[t]}else this._events[t]===n&&delete this._events[t];return this},r.prototype.removeAllListeners=function(t){return 0===arguments.length?(this._events={},this):(t&&this._events&&this._events[t]&&(this._events[t]=null),this)},r.prototype.listeners=function(t){return this._events||(this._events={}),this._events[t]||(this._events[t]=[]),i(this._events[t])||(this._events[t]=[this._events[t]]),this._events[t]}})(t("__browserify_process"))},{__browserify_process:12}],3:[function(t,e){(function(){var n=t("./"),r=t("../Expression"),i=t("../global"),s=String.fromCharCode(215),o=t("../../grammar/parser.js");o.parseError=function(t,e){var n=new SyntaxError(t);throw n.line=e.line,n};var a="left",u="right",l=a,c=u;e.exports=new n(o,{Number:function(t){if("1"===t)return i.One;if("0"===t)return i.Zero;if(/^\d+$/.test(t))return new r.Integer(Number(t));if(/^[\d]*\.[\d]+$/.test(t)){var e=t.indexOf("."),n=t.length-e-1,s=Math.pow(10,n),o=Number(t.replace(".",""));return new r.Rational(o,s).reduce()}return new r.NumericalReal(Number(t))},String:function(t){return t},Single:function(t){return isNaN(t)?new r.Symbol.Real(t):new r.Integer(t)}},[[";"],[","],[["=","+=","-=","*=","/=","%=","&=","^=","|="],c],[["?",":"],c,2],[["âˆ¨"]],[["&&"]],[["|"]],[["??????"]],[["&"]],[["==","â‰ ","!==","==="]],[["<","<=",">",">="],l],[[">>","<<"]],["Â±",c,2],[["+"],!0],[["-"],l],[["âˆ«","âˆ‘"],c,1],[["*","%"],c],[s,c],[["@+","@-","@Â±"],c,1],[["Â¬"],l,1],["default",c,2],["âˆ˜",c,2],[["/"]],[["^"]],["!",l,1],[["~"],c,1],[["++","++",".","->"],l,1],[["::"]],[["_"],l,2],["var",c,1],["break",c,0],["throw",c,1],["'",l,1],["âˆš",c,1],["#",c,1]])})()},{"../../grammar/parser.js":13,"./":8,"../global":9,"../Expression":5}],13:[function(t,e,n){(function(r){var i=function(){function t(){this.yy={}}var e={trace:function(){},yy:{},symbols_:{error:2,expressions:3,S:4,EOF:5,e:6,stmt:7,"=":8,"!=":9,"<=":10,"<":11,">":12,">=":13,csl:14,",":15,vector:16,"(":17,")":18,"+":19,"-":20,"*":21,"/":22,"POWER{":23,"}":24,"_{":25,_SINGLE:26,"SQRT{":27,"FRAC{":28,"{":29,"^SINGLE":30,identifier:31,number:32,IDENTIFIER:33,LONGIDENTIFIER:34,DECIMAL:35,INTEGER:36,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",8:"=",9:"!=",10:"<=",11:"<",12:">",13:">=",15:",",17:"(",18:")",19:"+",20:"-",21:"*",22:"/",23:"POWER{",24:"}",25:"_{",26:"_SINGLE",27:"SQRT{",28:"FRAC{",29:"{",30:"^SINGLE",33:"IDENTIFIER",34:"LONGIDENTIFIER",35:"DECIMAL",36:"INTEGER"},productions_:[0,[3,2],[4,1],[4,1],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[14,3],[14,3],[16,3],[6,3],[6,3],[6,3],[6,3],[6,4],[6,4],[6,2],[6,3],[6,6],[6,2],[6,2],[6,2],[6,3],[6,1],[6,1],[6,1],[31,1],[31,1],[32,1],[32,1]],performAction:function(t,e,n,r,i,s){var o=s.length-1;switch(i){case 1:return s[o-1];case 2:this.$=s[o];break;case 3:this.$=s[o];break;case 4:this.$=["=",s[o-2],s[o]];break;case 5:this.$=["!=",s[o-2],s[o]];break;case 6:this.$=["<=",s[o-2],s[o]];break;case 7:this.$=["<",s[o-2],s[o]];break;case 8:this.$=[">",s[o-2],s[o]];break;case 9:this.$=[">=",s[o-2],s[o]];break;case 10:this.$=[",.",s[o-2],s[o]];break;case 11:this.$=[",",s[o-2],s[o]];break;case 12:this.$=s[o-1];break;case 13:this.$=["+",s[o-2],s[o]];break;case 14:this.$=["-",s[o-2],s[o]];break;case 15:this.$=["*",s[o-2],s[o]];break;case 16:this.$=["/",s[o-2],s[o]];break;case 17:this.$=["^",s[o-3],s[o-1]];break;case 18:this.$=["_",s[o-3],s[o-1]];break;case 19:this.$=["_",s[o-1],{type:"Single",primitive:t.substring(1)}];break;case 20:this.$=["sqrt",s[o-1]];break;case 21:this.$=["frac",s[o-4],s[o-1]];break;case 22:this.$=["^",s[o-1],{type:"Single",primitive:t.substring(1)}];break;case 23:this.$=["@-",s[o]];break;case 24:this.$=["default",s[o-1],s[o]];break;case 25:this.$=s[o-1];break;case 26:this.$=s[o];break;case 27:this.$=s[o];break;case 28:this.$=s[o];break;case 29:this.$=t;break;case 30:this.$=t.substring(1);break;case 31:this.$={type:"Number",primitive:t};break;case 32:this.$={type:"Number",primitive:t}}},table:[{3:1,4:2,6:3,7:4,16:9,17:[1,8],20:[1,7],27:[1,5],28:[1,6],31:10,32:11,33:[1,12],34:[1,13],35:[1,14],36:[1,15]},{1:[3]},{5:[1,16]},{5:[2,2],6:25,8:[1,26],9:[1,27],10:[1,28],11:[1,29],12:[1,30],13:[1,31],16:9,17:[1,8],19:[1,17],20:[1,18],21:[1,19],22:[1,20],23:[1,21],24:[2,2],25:[1,22],26:[1,23],27:[1,5],28:[1,6],30:[1,24],31:10,32:11,33:[1,12],34:[1,13],35:[1,14],36:[1,15]},{5:[2,3],24:[2,3]},{6:32,16:9,17:[1,8],20:[1,7],27:[1,5],28:[1,6],31:10,32:11,33:[1,12],34:[1,13],35:[1,14],36:[1,15]},{6:33,16:9,17:[1,8],20:[1,7],27:[1,5],28:[1,6],31:10,32:11,33:[1,12],34:[1,13],35:[1,14],36:[1,15]},{6:34,16:9,17:[1,8],20:[1,7],27:[1,5],28:[1,6],31:10,32:11,33:[1,12],34:[1,13],35:[1,14],36:[1,15]},{6:35,14:36,16:9,17:[1,8],20:[1,7],27:[1,5],28:[1,6],31:10,32:11,33:[1,12],34:[1,13],35:[1,14],36:[1,15]},{5:[2,26],8:[2,26],9:[2,26],10:[2,26],11:[2,26],12:[2,26],13:[2,26],15:[2,26],17:[2,26],18:[2,26],19:[2,26],20:[2,26],21:[2,26],22:[2,26],23:[2,26],24:[2,26],25:[2,26],26:[2,26],27:[2,26],28:[2,26],30:[2,26],33:[2,26],34:[2,26],35:[2,26],36:[2,26]},{5:[2,27],8:[2,27],9:[2,27],10:[2,27],11:[2,27],12:[2,27],13:[2,27],15:[2,27],17:[2,27],18:[2,27],19:[2,27],20:[2,27],21:[2,27],22:[2,27],23:[2,27],24:[2,27],25:[2,27],26:[2,27],27:[2,27],28:[2,27],30:[2,27],33:[2,27],34:[2,27],35:[2,27],36:[2,27]},{5:[2,28],8:[2,28],9:[2,28],10:[2,28],11:[2,28],12:[2,28],13:[2,28],15:[2,28],17:[2,28],18:[2,28],19:[2,28],20:[2,28],21:[2,28],22:[2,28],23:[2,28],24:[2,28],25:[2,28],26:[2,28],27:[2,28],28:[2,28],30:[2,28],33:[2,28],34:[2,28],35:[2,28],36:[2,28]},{5:[2,29],8:[2,29],9:[2,29],10:[2,29],11:[2,29],12:[2,29],13:[2,29],15:[2,29],17:[2,29],18:[2,29],19:[2,29],20:[2,29],21:[2,29],22:[2,29],23:[2,29],24:[2,29],25:[2,29],26:[2,29],27:[2,29],28:[2,29],30:[2,29],33:[2,29],34:[2,29],35:[2,29],36:[2,29]},{5:[2,30],8:[2,30],9:[2,30],10:[2,30],11:[2,30],12:[2,30],13:[2,30],15:[2,30],17:[2,30],18:[2,30],19:[2,30],20:[2,30],21:[2,30],22:[2,30],23:[2,30],24:[2,30],25:[2,30],26:[2,30],27:[2,30],28:[2,30],30:[2,30],33:[2,30],34:[2,30],35:[2,30],36:[2,30]},{5:[2,31],8:[2,31],9:[2,31],10:[2,31],11:[2,31],12:[2,31],13:[2,31],15:[2,31],17:[2,31],18:[2,31],19:[2,31],20:[2,31],21:[2,31],22:[2,31],23:[2,31],24:[2,31],25:[2,31],26:[2,31],27:[2,31],28:[2,31],30:[2,31],33:[2,31],34:[2,31],35:[2,31],36:[2,31]},{5:[2,32],8:[2,32],9:[2,32],10:[2,32],11:[2,32],12:[2,32],13:[2,32],15:[2,32],17:[2,32],18:[2,32],19:[2,32],20:[2,32],21:[2,32],22:[2,32],23:[2,32],24:[2,32],25:[2,32],26:[2,32],27:[2,32],28:[2,32],30:[2,32],33:[2,32],34:[2,32],35:[2,32],36:[2,32]},{1:[2,1]},{6:37,16:9,17:[1,8],20:[1,7],27:[1,5],28:[1,6],31:10,32:11,33:[1,12],34:[1,13],35:[1,14],36:[1,15]},{6:38,16:9,17:[1,8],20:[1,7],27:[1,5],28:[1,6],31:10,32:11,33:[1,12],34:[1,13],35:[1,14],36:[1,15]},{6:39,16:9,17:[1,8],20:[1,7],27:[1,5],28:[1,6],31:10,32:11,33:[1,12],34:[1,13],35:[1,14],36:[1,15]},{6:40,16:9,17:[1,8],20:[1,7],27:[1,5],28:[1,6],31:10,32:11,33:[1,12],34:[1,13],35:[1,14],36:[1,15]},{6:41,16:9,17:[1,8],20:[1,7],27:[1,5],28:[1,6],31:10,32:11,33:[1,12],34:[1,13],35:[1,14],36:[1,15]},{4:42,6:3,7:4,16:9,17:[1,8],20:[1,7],27:[1,5],28:[1,6],31:10,32:11,33:[1,12],34:[1,13],35:[1,14],36:[1,15]},{5:[2,19],8:[2,19],9:[2,19],10:[2,19],11:[2,19],12:[2,19],13:[2,19],15:[2,19],17:[2,19],18:[2,19],19:[2,19],20:[2,19],21:[2,19],22:[2,19],23:[2,19],24:[2,19],25:[2,19],26:[2,19],27:[2,19],28:[2,19],30:[2,19],33:[2,19],34:[2,19],35:[2,19],36:[2,19]},{5:[2,22],8:[2,22],9:[2,22],10:[2,22],11:[2,22],12:[2,22],13:[2,22],15:[2,22],17:[2,22],18:[2,22],19:[2,22],20:[2,22],21:[2,22],22:[2,22],23:[2,22],24:[2,22],25:[2,22],26:[2,22],27:[2,22],28:[2,22],30:[2,22],33:[2,22],34:[2,22],35:[2,22],36:[2,22]},{5:[2,24],6:25,8:[2,24],9:[2,24],10:[2,24],11:[2,24],12:[2,24],13:[2,24],15:[2,24],16:9,17:[1,8],18:[2,24],19:[2,24],20:[2,24],21:[2,24],22:[2,24],23:[1,21],24:[2,24],25:[2,24],26:[2,24],27:[2,24],28:[2,24],30:[1,24],31:10,32:11,33:[1,12],34:[1,13],35:[1,14],36:[1,15]},{6:43,16:9,17:[1,8],20:[1,7],27:[1,5],28:[1,6],31:10,32:11,33:[1,12],34:[1,13],35:[1,14],36:[1,15]},{6:44,16:9,17:[1,8],20:[1,7],27:[1,5],28:[1,6],31:10,32:11,33:[1,12],34:[1,13],35:[1,14],36:[1,15]},{6:45,16:9,17:[1,8],20:[1,7],27:[1,5],28:[1,6],31:10,32:11,33:[1,12],34:[1,13],35:[1,14],36:[1,15]},{6:46,16:9,17:[1,8],20:[1,7],27:[1,5],28:[1,6],31:10,32:11,33:[1,12],34:[1,13],35:[1,14],36:[1,15]},{6:47,16:9,17:[1,8],20:[1,7],27:[1,5],28:[1,6],31:10,32:11,33:[1,12],34:[1,13],35:[1,14],36:[1,15]},{6:48,16:9,17:[1,8],20:[1,7],27:[1,5],28:[1,6],31:10,32:11,33:[1,12],34:[1,13],35:[1,14],36:[1,15]},{6:25,16:9,17:[1,8],19:[1,17],20:[1,18],21:[1,19],22:[1,20],23:[1,21],24:[1,49],25:[1,22],26:[1,23],27:[1,5],28:[1,6],30:[1,24],31:10,32:11,33:[1,12],34:[1,13],35:[1,14],36:[1,15]},{6:25,16:9,17:[1,8],19:[1,17],20:[1,18],21:[1,19],22:[1,20],23:[1,21],24:[1,50],25:[1,22],26:[1,23],27:[1,5],28:[1,6],30:[1,24],31:10,32:11,33:[1,12],34:[1,13],35:[1,14],36:[1,15]},{5:[2,23],6:25,8:[2,23],9:[2,23],10:[2,23],11:[2,23],12:[2,23],13:[2,23],15:[2,23],16:9,17:[1,8],18:[2,23],19:[2,23],20:[2,23],21:[2,23],22:[2,23],23:[1,21],24:[2,23],25:[2,23],26:[2,23],27:[1,5],28:[1,6],30:[1,24],31:10,32:11,33:[1,12],34:[1,13],35:[1,14],36:[1,15]},{6:25,15:[1,52],16:9,17:[1,8],18:[1,51],19:[1,17],20:[1,18],21:[1,19],22:[1,20],23:[1,21],25:[1,22],26:[1,23],27:[1,5],28:[1,6],30:[1,24],31:10,32:11,33:[1,12],34:[1,13],35:[1,14],36:[1,15]},{15:[1,54],18:[1,53]},{5:[2,13],6:25,8:[2,13],9:[2,13],10:[2,13],11:[2,13],12:[2,13],13:[2,13],15:[2,13],16:9,17:[1,8],18:[2,13],19:[2,13],20:[2,13],21:[1,19],22:[1,20],23:[1,21],24:[2,13],25:[2,13],26:[2,13],27:[1,5],28:[1,6],30:[1,24],31:10,32:11,33:[1,12],34:[1,13],35:[1,14],36:[1,15]},{5:[2,14],6:25,8:[2,14],9:[2,14],10:[2,14],11:[2,14],12:[2,14],13:[2,14],15:[2,14],16:9,17:[1,8],18:[2,14],19:[2,14],20:[2,14],21:[2,23],22:[2,23],23:[1,21],24:[2,14],25:[2,14],26:[2,14],27:[1,5],28:[1,6],30:[1,24],31:10,32:11,33:[1,12],34:[1,13],35:[1,14],36:[1,15]},{5:[2,15],6:25,8:[2,15],9:[2,15],10:[2,15],11:[2,15],12:[2,15],13:[2,15],15:[2,15],16:9,17:[1,8],18:[2,15],19:[2,15],20:[2,15],21:[2,15],22:[2,15],23:[1,21],24:[2,15],25:[2,15],26:[2,15],27:[1,5],28:[1,6],30:[1,24],31:10,32:11,33:[1,12],34:[1,13],35:[1,14],36:[1,15]},{5:[2,16],6:25,8:[2,16],9:[2,16],10:[2,16],11:[2,16],12:[2,16],13:[2,16],15:[2,16],16:9,17:[1,8],18:[2,16],19:[2,16],20:[2,16],21:[2,16],22:[2,16],23:[1,21],24:[2,16],25:[2,16],26:[2,16],27:[1,5],28:[1,6],30:[1,24],31:10,32:11,33:[1,12],34:[1,13],35:[1,14],36:[1,15]},{6:25,16:9,17:[1,8],19:[1,17],20:[1,18],21:[1,19],22:[1,20],23:[1,21],24:[1,55],25:[1,22],26:[1,23],27:[1,5],28:[1,6],30:[1,24],31:10,32:11,33:[1,12],34:[1,13],35:[1,14],36:[1,15]},{24:[1,56]},{5:[2,4],6:25,16:9,17:[1,8],19:[1,17],20:[1,18],21:[1,19],22:[1,20],23:[1,21],24:[2,4],25:[1,22],26:[1,23],27:[1,5],28:[1,6],30:[1,24],31:10,32:11,33:[1,12],34:[1,13],35:[1,14],36:[1,15]},{5:[2,5],6:25,16:9,17:[1,8],19:[1,17],20:[1,18],21:[1,19],22:[1,20],23:[1,21],24:[2,5],25:[1,22],26:[1,23],27:[1,5],28:[1,6],30:[1,24],31:10,32:11,33:[1,12],34:[1,13],35:[1,14],36:[1,15]},{5:[2,6],6:25,16:9,17:[1,8],19:[1,17],20:[1,18],21:[1,19],22:[1,20],23:[1,21],24:[2,6],25:[1,22],26:[1,23],27:[1,5],28:[1,6],30:[1,24],31:10,32:11,33:[1,12],34:[1,13],35:[1,14],36:[1,15]},{5:[2,7],6:25,16:9,17:[1,8],19:[1,17],20:[1,18],21:[1,19],22:[1,20],23:[1,21],24:[2,7],25:[1,22],26:[1,23],27:[1,5],28:[1,6],30:[1,24],31:10,32:11,33:[1,12],34:[1,13],35:[1,14],36:[1,15]},{5:[2,8],6:25,16:9,17:[1,8],19:[1,17],20:[1,18],21:[1,19],22:[1,20],23:[1,21],24:[2,8],25:[1,22],26:[1,23],27:[1,5],28:[1,6],30:[1,24],31:10,32:11,33:[1,12],34:[1,13],35:[1,14],36:[1,15]},{5:[2,9],6:25,16:9,17:[1,8],19:[1,17],20:[1,18],21:[1,19],22:[1,20],23:[1,21],24:[2,9],25:[1,22],26:[1,23],27:[1,5],28:[1,6],30:[1,24],31:10,32:11,33:[1,12],34:[1,13],35:[1,14],36:[1,15]},{5:[2,20],8:[2,20],9:[2,20],10:[2,20],11:[2,20],12:[2,20],13:[2,20],15:[2,20],17:[2,20],18:[2,20],19:[2,20],20:[2,20],21:[2,20],22:[2,20],23:[2,20],24:[2,20],25:[2,20],26:[2,20],27:[2,20],28:[2,20],30:[2,20],33:[2,20],34:[2,20],35:[2,20],36:[2,20]},{29:[1,57]},{5:[2,25],8:[2,25],9:[2,25],10:[2,25],11:[2,25],12:[2,25],13:[2,25],15:[2,25],17:[2,25],18:[2,25],19:[2,25],20:[2,25],21:[2,25],22:[2,25],23:[2,25],24:[2,25],25:[2,25],26:[2,25],27:[2,25],28:[2,25],30:[2,25],33:[2,25],34:[2,25],35:[2,25],36:[2,25]},{6:58,16:9,17:[1,8],20:[1,7],27:[1,5],28:[1,6],31:10,32:11,33:[1,12],34:[1,13],35:[1,14],36:[1,15]},{5:[2,12],8:[2,12],9:[2,12],10:[2,12],11:[2,12],12:[2,12],13:[2,12],15:[2,12],17:[2,12],18:[2,12],19:[2,12],20:[2,12],21:[2,12],22:[2,12],23:[2,12],24:[2,12],25:[2,12],26:[2,12],27:[2,12],28:[2,12],30:[2,12],33:[2,12],34:[2,12],35:[2,12],36:[2,12]},{6:59,16:9,17:[1,8],20:[1,7],27:[1,5],28:[1,6],31:10,32:11,33:[1,12],34:[1,13],35:[1,14],36:[1,15]},{5:[2,17],8:[2,17],9:[2,17],10:[2,17],11:[2,17],12:[2,17],13:[2,17],15:[2,17],17:[2,17],18:[2,17],19:[2,17],20:[2,17],21:[2,17],22:[2,17],23:[2,17],24:[2,17],25:[2,17],26:[2,17],27:[2,17],28:[2,17],30:[2,17],33:[2,17],34:[2,17],35:[2,17],36:[2,17]},{5:[2,18],8:[2,18],9:[2,18],10:[2,18],11:[2,18],12:[2,18],13:[2,18],15:[2,18],17:[2,18],18:[2,18],19:[2,18],20:[2,18],21:[2,18],22:[2,18],23:[2,18],24:[2,18],25:[2,18],26:[2,18],27:[2,18],28:[2,18],30:[2,18],33:[2,18],34:[2,18],35:[2,18],36:[2,18]},{6:60,16:9,17:[1,8],20:[1,7],27:[1,5],28:[1,6],31:10,32:11,33:[1,12],34:[1,13],35:[1,14],36:[1,15]},{6:25,15:[2,11],16:9,17:[1,8],18:[2,11],19:[1,17],20:[1,18],21:[1,19],22:[1,20],23:[1,21],25:[1,22],26:[1,23],27:[1,5],28:[1,6],30:[1,24],31:10,32:11,33:[1,12],34:[1,13],35:[1,14],36:[1,15]},{6:25,15:[2,10],16:9,17:[1,8],18:[2,10],19:[1,17],20:[1,18],21:[1,19],22:[1,20],23:[1,21],25:[1,22],26:[1,23],27:[1,5],28:[1,6],30:[1,24],31:10,32:11,33:[1,12],34:[1,13],35:[1,14],36:[1,15]},{6:25,16:9,17:[1,8],19:[1,17],20:[1,18],21:[1,19],22:[1,20],23:[1,21],24:[1,61],25:[1,22],26:[1,23],27:[1,5],28:[1,6],30:[1,24],31:10,32:11,33:[1,12],34:[1,13],35:[1,14],36:[1,15]},{5:[2,21],8:[2,21],9:[2,21],10:[2,21],11:[2,21],12:[2,21],13:[2,21],15:[2,21],17:[2,21],18:[2,21],19:[2,21],20:[2,21],21:[2,21],22:[2,21],23:[2,21],24:[2,21],25:[2,21],26:[2,21],27:[2,21],28:[2,21],30:[2,21],33:[2,21],34:[2,21],35:[2,21],36:[2,21]}],defaultActions:{16:[2,1]},parseError:function(t){throw Error(t)},parse:function(t){function e(){var t;return t=n.lexer.lex()||1,"number"!=typeof t&&(t=n.symbols_[t]||t),t}var n=this,r=[0],i=[null],s=[],o=this.table,a="",u=0,l=0,c=0;this.lexer.setInput(t),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,this.lexer.yylloc===void 0&&(this.lexer.yylloc={});var h=this.lexer.yylloc;s.push(h);var f=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var p,m,g,v,y,x,d,w,b,_={};;){if(g=r[r.length-1],this.defaultActions[g]?v=this.defaultActions[g]:((null===p||p===void 0)&&(p=e()),v=o[g]&&o[g][p]),v===void 0||!v.length||!v[0]){var R="";if(!c){b=[];for(x in o[g])this.terminals_[x]&&x>2&&b.push("'"+this.terminals_[x]+"'");R=this.lexer.showPosition?"Parse error on line "+(u+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+b.join(", ")+", got '"+(this.terminals_[p]||p)+"'":"Parse error on line "+(u+1)+": Unexpected "+(1==p?"end of input":"'"+(this.terminals_[p]||p)+"'"),this.parseError(R,{text:this.lexer.match,token:this.terminals_[p]||p,line:this.lexer.yylineno,loc:h,expected:b})}}if(v[0]instanceof Array&&v.length>1)throw Error("Parse Error: multiple actions possible at state: "+g+", token: "+p);switch(v[0]){case 1:r.push(p),i.push(this.lexer.yytext),s.push(this.lexer.yylloc),r.push(v[1]),p=null,m?(p=m,m=null):(l=this.lexer.yyleng,a=this.lexer.yytext,u=this.lexer.yylineno,h=this.lexer.yylloc,c>0&&c--);break;case 2:if(d=this.productions_[v[1]][1],_.$=i[i.length-d],_._$={first_line:s[s.length-(d||1)].first_line,last_line:s[s.length-1].last_line,first_column:s[s.length-(d||1)].first_column,last_column:s[s.length-1].last_column},f&&(_._$.range=[s[s.length-(d||1)].range[0],s[s.length-1].range[1]]),y=this.performAction.call(_,a,l,u,this.yy,v[1],i,s),y!==void 0)return y;d&&(r=r.slice(0,2*-1*d),i=i.slice(0,-1*d),s=s.slice(0,-1*d)),r.push(this.productions_[v[1]][0]),i.push(_.$),s.push(_._$),w=o[r[r.length-2]][r[r.length-1]],r.push(w);break;case 3:return!0}}return!0}},n=function(){var t={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw Error(t);this.yy.parser.parseError(t,e)},setInput:function(t){return this._input=t,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t;var e=t.match(/(?:\r\n?|\n).*/g);return e?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e-1),this.offset-=e;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-e]),this},more:function(){return this._more=!0,this},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return 20>t.length&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var t,e,n,r,i;this._more||(this.yytext="",this.match="");for(var s=this._currentRules(),o=0;s.length>o&&(n=this._input.match(this.rules[s[o]]),!n||e&&!(n[0].length>e[0].length)||(e=n,r=o,this.options.flex));o++);return e?(i=e[0].match(/(?:\r\n?|\n).*/g),i&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-i[i.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],t=this.performAction.call(this,this.yy,this,s[r],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),t?t:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t!==void 0?t:this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(t){this.begin(t)},options:{},performAction:function(t,e,n,r){switch(n){case 0:break;case 1:return"TEXT";case 2:return 17;case 3:return 18;case 4:return 28;case 5:return 27;case 6:return 21;case 7:return 10;case 8:return 13;case 9:return"NE";case 10:return 34;case 11:return 33;case 12:return 35;case 13:return 36;case 14:return 8;case 15:return 21;case 16:return 21;case 17:return 22;case 18:return 20;case 19:return 19;case 20:return 10;case 21:return 13;case 22:return 11;case 23:return 12;case 24:return 9;case 25:return"&&";case 26:return 26;case 27:return 30;case 28:return 25;case 29:return 23;case 30:return"!";case 31:return"%";case 32:return 15;case 33:return"?";case 34:return":";case 35:return 17;case 36:return 18;case 37:return 29;case 38:return 24;case 39:return"[";case 40:return"]";case 41:return 5}},rules:[/^(?:\s+)/,/^(?:\$[^\$]*\$)/,/^(?:\\left\()/,/^(?:\\right\))/,/^(?:\\frac\{)/,/^(?:\\sqrt\{)/,/^(?:\\cdot\b)/,/^(?:\\l[e])/,/^(?:\\g[e])/,/^(?:\\n[e])/,/^(?:\\[a-zA-Z]+)/,/^(?:[a-zA-Z])/,/^(?:[0-9]+\.[0-9]*)/,/^(?:[0-9]+)/,/^(?:=)/,/^(?:\*)/,/^(?:\.)/,/^(?:\/)/,/^(?:-)/,/^(?:\+)/,/^(?:<=)/,/^(?:>=)/,/^(?:<)/,/^(?:>)/,/^(?:!=)/,/^(?:&&)/,/^(?:_[^\(\{])/,/^(?:\^[^\(\{])/,/^(?:_\{)/,/^(?:\^\{)/,/^(?:!)/,/^(?:%)/,/^(?:,)/,/^(?:\?)/,/^(?::)/,/^(?:\()/,/^(?:\))/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:$)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41],inclusive:!0}}};return t}();return e.lexer=n,t.prototype=e,e.Parser=t,new t}();t!==void 0&&n!==void 0&&(n.parser=i,n.Parser=i.Parser,n.parse=function(){return i.parse.apply(i,arguments)},n.main=function(e){e[1]||(console.log("Usage: "+e[0]+" FILE"),r.exit(1));var i=t("fs").readFileSync(t("path").normalize(e[1]),"utf8");return n.parser.parse(i)},e!==void 0&&t.main===e&&n.main(r.argv.slice(1)))})(t("__browserify_process"))},{fs:14,path:15,__browserify_process:12}],8:[function(t,e){function n(t,e,n){this.cfg=t,this.Construct=e;var r=this.operators={},i=0;n.forEach(function(t){function e(t,e){var n=e[1]||"left",s=void 0===e[2]?2:e[2];r[t]={associativity:n,precedence:i++,arity:s}}var n=t[0];"string"==typeof n?e(n,t):n.forEach(function(n){e(n,t)})})}t("util"),n.Code=t("./Code");var r=n.prototype;r.parse=t("./parse"),r.stringify=t("./stringify"),r.postfix=function(t){var e=this.operators[t];return 0===e.associativity&&1===e.arity},r.unary=function(){var t=["+","-","Â±"];return-1!==t.indexOf(o)?"@"+o:!1},r.associative=function(){throw Error("associative????")},e.exports=n},{util:10,"./Code":16,"./parse":17,"./stringify":18}],4:[function(t,e){(function(){var n=t("../Expression");e.exports.attach=function(t){function e(t){return new n.Function({"default":function(e){return e.differentiate(t)}})}var r=new n.Function({"default":function(e){if(e instanceof n.NumericalReal||e instanceof n.List.Real||e instanceof n.Symbol.Real)return new M.Expression.List.ComplexCartesian([t.sin.default(e),t.Zero]);throw Error("Complex Sine Cartesian form not implemented yet.")}});t.sin=new n.Function({"default":function(e){return e instanceof n.NumericalReal?new n.NumericalReal(Math.sin(e.value)):e instanceof n.List.Real||e instanceof n.Symbol.Real?n.List.Real([t.sin,e]):n.List([t.sin,e])},realimag:function(){return r},"text/latex":"\\sin","text/javascript":"Math.sin","x-shader/x-fragment":"sin",title:"Sine Function",description:"See http://en.wikipedia.org/wiki/Trigonometric_functions#Sine.2C_cosine.2C_and_tangent",examples:["\\sin (\\pi)"],related:["cos","tan"]}),t.cos=new n.Function({"default":function(e){return e instanceof n.NumericalReal?new n.NumericalReal(Math.cos(e.value)):e instanceof n.List.Real||e instanceof n.Symbol.Real?n.List.Real([t.cos,e]):n.List([t.cos,e])
},derivative:t.sin["@-"](),"text/latex":"\\cos","text/javascript":"Math.cos","x-shader/x-fragment":"cos",title:"Cosine Function",description:"Cosine Function desc",examples:["\\cos (\\pi)"],related:["sin","tan"]}),t.sin.derivative=t.cos,t.tan=new n.Function({symbolic:function(){}}),t.log=new n.Function({"default":function(e,r){if(e instanceof n.Integer&&1===e.a)return t.Zero;if(e instanceof n.Integer&&0===e.a)return t.Infinity["@-"]();if(e instanceof n.NumericalReal){var i=e.value;if(i>0)return new n.NumericalReal(Math.log(i))}return r&&r.positive?n.List.Real([t.log,e]):n.List([t.log,e])},realimag:function(){return s},"text/latex":"\\log","text/javascript":"Math.log","x-shader/x-fragment":"log",title:"Natural Logarithm",description:"Base e. See http://en.wikipedia.org/wiki/Natural_logarithm",examples:["\\log (ye^(2x))"],related:["exp","Log"]});var i=new n.Rational(1,2),s=new n.Function({"default":function(e){return new n.List.ComplexCartesian([t.log.default(e.abs()),e.arg()])["*"](i)}});s.__proto__=t.log,t.atan2=new n.Function({"default":function(e){if(!(e instanceof n.Vector))throw"atan only takes vector arguments";return e[0]instanceof n.NumericalReal&&e[1]instanceof n.NumericalReal?new n.NumericalReal(Math.atan2(e[0].value,e[1].value)):new n.List.Real([t.atan2,e])},apply_realimag:function(e,r){return[n.List([t.atan2,r]),M.global.Zero]},"text/latex":"\\tan^{-1}","text/javascript":"Math.atan2","x-shader/x-fragment":"atan",toTypedString:function(t){return{s:this[t],t:javascript.Function}},title:"Two argument arctangent function",description:"Arctan(y, x). Will equal arctan(y / x) except when x and y are both negative. See http://en.wikipedia.org/wiki/Atan2"}),t.atan=t.atan2,t.Gamma={"default":function(e){function r(t){var e,n,r,i,s,o=[57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];if(0>=t)throw"bad arg in gammln";for(i=n=t,r=n+5.2421875,r=(n+.5)*Math.log(r)-r,s=.9999999999999971,e=0;14>e;e++)s+=o[e]/++i;return r+Math.log(2.5066282746310007*s/n)}if(e instanceof n.Integer){var i=e.a;if(0>i)return t.ComplexInfinity;if(15>i){var s=1,o=0;for(o=1;i>o;o++)s*=o;return new n.Integer(s)}return n.List.Real([t.Gamma,e])}if(e instanceof n.NumericalReal){var i=e.value;return 0===i?t.Infinity:0>i?new n.NumericalReal(-Math.PI/(i*Math.sin(Math.PI*i)*Math.exp(r(-i)))):new n.NumericalReal(Math.exp(r(i)))}return e instanceof n.NumericalComplex,n.List([t.Gamma,e])},"text/latex":"\\Gamma","text/javascript":"M.global.Gamma.f",toTypedString:function(t){return{s:this[t],t:javascript.Function}},title:"Gamma Function",description:"See http://en.wikipedia.org/wiki/Gamma_function",examples:["\\Gamma (x)","x!"],related:["Log","LogGamma"]},t.Re={"default":function(t){return t.real()},apply_realimag:function(e,n){return[n.real(),t.Zero]},"text/latex":"\\Re"},t.Im={"default":function(t){return t.imag()},distributed_under_differentiation:!0,apply_realimag:function(e,n){return[n.imag(),t.Zero]},"text/latex":"\\Im"},n.List.Real.prototype.positive=function(){if("+"===this.operator)return this[0].positive&&this[1].positive&&this[0].positive()&&this[1].positive();if("*"===this.operator)return this[0]===this[1]?!0:this[0].positive&&this[1].positive&&this[0].positive()&&this[1].positive();if("^"===this.operator&&this[1]instanceof n.Rational){var t=this[1].reduce();if(0===t.a%2)return!0}return!1},n.NumericalReal.prototype.positive=function(){return this.value>0},t.sqrt=new n.Function({"default":function(e){if(e instanceof n.NumericalReal){var r=e.value;return 0>r?new n.List.ComplexCartesian([t.Zero,new n.NumericalReal(Math.sqrt(r))]):new n.NumericalReal(Math.sqrt(r))}return e instanceof n.List.Real?e.positive()?n.List.Real([t.sqrt,e]):n.List([t.sqrt,e]):e instanceof n.List.ComplexPolar?new n.List.ComplexPolar([e[0],e[1]["/"](new n.Integer(2))]):e instanceof n.List.ComplexCartesian?new n.List([t.sqrt,e]):n.List([t.sqrt,e])},apply_realimag:function(t,e){return e["^"](new n.Rational(1,2)).realimag()},"text/latex":"\\sqrt","text/javascript":"Math.sqrt","x-shader/x-fragment":"sqrt",toTypedString:function(t){return{s:this[t],t:javascript.Function}},title:"Sqrt Function",description:"See http://en.wikipedia.org/wiki/Square_Root",examples:["\\sqrt (x^4)"],related:["pow","abs","mod"]}),t.abs=new n.Function({"default":function(t){return t.abs()},"text/latex":"\\abs","text/javascript":"Math.abs","x-shader/x-fragment":"abs",titie:"Absolute Value Function",description:"Abs",examples:["\\abs (-3)","\\abs (i+3)"],related:["arg","tan"]}),t.abs.derivative=function(){var t=new n.Symbol.Real,e=t["/"](t.abs());return new n.Function.Symbolic(e,[t])}(),t.arg={"default":function(t){return console.warn("ARG IS FOR USER INPUT ONLY. USE .arg()"),t.arg()},"text/latex":"\\arg","text/javascript":"Math.arg_real",toTypedString:function(t){return{s:this[t],t:javascript.Function}},titie:"Arg Function",description:"Arg",examples:["\\arg (-3)","\\arg (3)","\\arg(3+2i)"],related:["abs"]},t.e=new n.NumericalReal(Math.E,0),t.e.title="e",t.e.description="The transcendental number that is the base of the natural logarithm, approximately equal to 2.71828.",t.e.s=function(t){return"text/javascript"===t?new Code("Math.E"):"text/latex"==t?new Code("e"):new Code("2.718281828459045")},t.pi=new n.NumericalReal(Math.PI,0),t.pi.title="Pi",t.pi.description="",t.pi.s=function(t){return"text/javascript"===t?new Code("Math.PI"):"text/latex"===t?new Code("\\pi"):new Code("3.141592653589793")},t.tau=t.pi["*"](new n.Integer(2)),t.Infinity=new n.NumericalReal(1/0,0),t.Infinity.title="Infinity",t.Infinity.description="",t.infty=t.Infinity,t.Zero=new n.Integer(0),t.Zero.title="Zero",t.Zero.description="Additive Identity",t.Zero["*"]=function(){return t.Zero},t.Zero["+"]=function(t){return t},t.Zero["@-"]=function(){return this},t.Zero["-"]=function(t){return t["@-"]()},t.One=new n.Integer(1),t.One.title="One",t.One.description="Multiplicative Identity",t.One["*"]=function(t){return t},t.log.derivative=new n.Function.Symbolic(t.One["/"](new n.Symbol.Real)),t.i=new n.List.ComplexCartesian([t.Zero,t.One]),t.i.title="Imaginary Unit",t.i.description="A number which satisfies the property <m>i^2 = -1</m>.",t.i.realimag=function(){return n.List.ComplexCartesian([t.Zero,t.One])},t.i["*[TODO]"]=function(){},t.d=new n.Function({"default":function(t){return new n.Infinitesimal(t)}}),t.d["/"]=function(t){if(t instanceof n.Infinitesimal){if(t.x instanceof n.Symbol)return new e(t.x);if(t.x instanceof n.Vector)return n.Vector(Array.prototype.map.call(t.x,function(t){return new e(t)}));throw"Confusing infitesimal division"}throw"Dividing d by some large number."},t.undefined={s:function(t){return"text/javascript"===t?new Code("undefined"):"x-shader/x-fragment"===t?new Code("(1.0/0.0)"):void 0},differentiate:function(){return this},"*":function(){return this},"+":function(){return this},"-":function(){return this},"/":function(){return this},"^":function(){return this},"@-":function(){return this}},t.sum=new n.Function({"default":function(){throw"Sum not properly constructed yet."}}),t.sum._=function(t){var e=t[0],r=t[1];return new n.Sum.Real(e,r)}}})()},{"../Expression":5}],5:[function(t,e){(function(){function n(){}var r=t("../global");e.exports=n,n.List=t("./List"),n.List.Real=t("./List/Real"),n.List.ComplexCartesian=t("./List/ComplexCartesian"),n.List.ComplexPolar=t("./List/ComplexPolar"),n.Constant=t("./Constant"),n.NumericalComplex=t("./Constant/NumericalComplex"),n.NumericalReal=t("./Constant/NumericalComplex/NumericalReal"),n.Rational=t("./Constant/NumericalComplex/NumericalReal/Rational"),n.Integer=t("./Constant/NumericalComplex/NumericalReal/Rational/Integer"),n.Symbol=t("./Symbol"),n.Symbol.Real=t("./Symbol/Real"),n.Statement=t("./Statement"),n.Vector=t("./Vector"),n.Matrix=t("./Matrix"),n.Function=t("./Function"),n.Function.Symbolic=t("./Function/Symbolic"),n.Infinitesimal=t("./Infinitesimal");var i=n.prototype;i.toString=null,i.valueOf=null,i.imageURL=function(){return"http://latex.codecogs.com/gif.latex?"+encodeURIComponent(this.s("text/latex").s)},i.renderLaTeX=function(){var t=new Image;return t.src=this.imageURL(),t},i.sub=function(){return this},i.lim=function(t,e){return this.sub(t,e)},i[","]=function(t){return t instanceof n.Statement?new n.Conditional(t,this):n.Vector([this,t])},["=","!=",">",">=","<","<="].forEach(function(t){i[t]=function(e){return new n.Statement(this,e,t)}});var s=String.fromCharCode(215);i[s]=function(t){return this["*"](t)},i.default=function(t){return this["*"](t)},["/","+","-","@-","^","%"].forEach(function(t){i[t]=function(e){return new n.List([this,e],t)}}),i["*"]=function(t){return t===r.Zero?t:t===r.One?this:new n.List([this,t],"*")}})()},{"../global":9,"./List":19,"./List/Real":20,"./List/ComplexCartesian":21,"./List/ComplexPolar":22,"./Constant":23,"./Constant/NumericalComplex":24,"./Constant/NumericalComplex/NumericalReal":25,"./Constant/NumericalComplex/NumericalReal/Rational":26,"./Constant/NumericalComplex/NumericalReal/Rational/Integer":27,"./Symbol":28,"./Symbol/Real":29,"./Statement":30,"./Vector":31,"./Matrix":32,"./Function":33,"./Function/Symbolic":34,"./Infinitesimal":35}],6:[function(t,e){(function(){function n(){}var r=t("util"),i=t("../global");e.exports=n,r.inherits(n,{prototype:i}),n.prototype.reset=function(){this.splice(0)}})()},{util:10,"../global":9}],14:[function(){},{}],15:[function(t,e,n){(function(t){function e(t,e){for(var n=[],r=0;t.length>r;r++)e(t[r],r,t)&&n.push(t[r]);return n}function r(t,e){for(var n=0,r=t.length;r>=0;r--){var i=t[r];"."==i?t.splice(r,1):".."===i?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}var i=/^(.+\/(?!$)|\/)?((?:.+?)?(\.[^.]*)?)$/;n.resolve=function(){for(var n="",i=!1,s=arguments.length;s>=-1&&!i;s--){var o=s>=0?arguments[s]:t.cwd();"string"==typeof o&&o&&(n=o+"/"+n,i="/"===o.charAt(0))}return n=r(e(n.split("/"),function(t){return!!t}),!i).join("/"),(i?"/":"")+n||"."},n.normalize=function(t){var n="/"===t.charAt(0),i="/"===t.slice(-1);return t=r(e(t.split("/"),function(t){return!!t}),!n).join("/"),t||n||(t="."),t&&i&&(t+="/"),(n?"/":"")+t},n.join=function(){var t=Array.prototype.slice.call(arguments,0);return n.normalize(e(t,function(t){return t&&"string"==typeof t}).join("/"))},n.dirname=function(t){var e=i.exec(t)[1]||"",n=!1;return e?1===e.length||n&&3>=e.length&&":"===e.charAt(1)?e:e.substring(0,e.length-1):"."},n.basename=function(t,e){var n=i.exec(t)[2]||"";return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},n.extname=function(t){return i.exec(t)[3]||""},n.relative=function(t,e){function r(t){for(var e=0;t.length>e&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=n.resolve(t).substr(1),e=n.resolve(e).substr(1);for(var i=r(t.split("/")),s=r(e.split("/")),o=Math.min(i.length,s.length),a=o,u=0;o>u;u++)if(i[u]!==s[u]){a=u;break}for(var l=[],u=a;i.length>u;u++)l.push("..");return l=l.concat(s.slice(a)),l.join("/")}})(t("__browserify_process"))},{__browserify_process:12}],16:[function(t,e){(function(){function t(t,e){this.pre=[]||e,this.s=""||t,this.vars=0,this.p=1/0}e.exports=t;var n=t.prototype;t.newContext=function(){t.contextVariableCount=0},t.newContext(),n.variable=function(){return"t"+(t.contextVariableCount++).toString(36)},n.merge=function(t,e,n,r){return this.s=e,r&&this.pre.push(r),this.pre.push.apply(this.pre,t.pre),this.vars+=t.vars,this.p=n,this},n.update=function(t,e,n){return this.p=e,n&&this.pre.push(n),this.s=t,this},n.compile=function(t){return Function(t,this.pre.join("\n")+"return "+this.s)},n.glslFunction=function(t,e,n){return t+" "+e+"("+n+"){\n"+this.pre.join("\n")+"return "+this.s+";\n}\n"}})()},{}],18:[function(t,e){e.exports=function(t,e){return t.s(e)}},{}],17:[function(t,e){(function(){var n=t("../Expression"),r=t("../global");e.exports=function(t,e){function i(t){var e=l;l=Object.create(l),l.$parent=e;var n;for(n in t)t.hasOwnProperty(n)&&(l[n]=t[n])}function s(t){return l=l.$parent,t}function o(t){if("string"==typeof t){var f;return(f=l[t])?f:((f=e[t])?h[t]=f:c[t]=f=new n.Symbol.Real(t),u[t]=f,f)}if(t.primitive)return a.Construct[t.type](t.primitive);if("object"==typeof t){var p=o(t[1]);if(3===t.length){switch(t[0]){case"frac":t[0]="/";break;case"_":if("sum"===t[1]){var m=t[2];if("="===m[0]){var g=new n.Symbol.Real(m[1]),v=o(m[2]),y=new n.Sum.Real(g,v);return y.vars={},y.vars[g.symbol]=g,y}}}if("default"===t[0]&&p.vars){i(p.vars);var x=p[t[0]](o(t[2]));return delete x.vars,s(x)}return p[t[0]](o(t[2]))}if(2===t.length){switch(t[0]){case"sqrt":return r.sqrt.default(o(t[1]))}return o(t[1])[t[0]]()}if(4===t.length)return o(t[1])[t[0]](o(t[1]),o(t[2]))}return t}var a=this;if(""===t||void 0===t)return void 0;var u=Object.create({}),l=u,c={},h={},f=this.cfg.parse(t),p=o(f);if(p._ast=f,u!==l)throw"Context still open";return p.unbound=c,p.bound=h,p}})()},{"../Expression":5,"../global":9}],19:[function(t,e){function n(t,e){return t.__proto__=s.List.prototype,t.operator=e,t}var r=t("util"),i=t("../"),s=t("../");e.exports=n,r.inherits(n,i),n.prototype._s=function(t,e){if("text/latex"===e)return s.List.Real.prototype._s.apply(this,arguments);throw"Use real(), imag(), or abs(), or arg() first."}},{util:10,"../":5}],23:[function(t,e){(function(){function n(){throw Error("Expression.Constant created directly")}var r=t("util"),i=t("../"),s=t("../../global");e.exports=n,r.inherits(n,i);var o=n.prototype;o.simplify=function(){return this},o.differentiate=function(){return s.Zero},o.apply=function(t){return this["*"](t)}})()},{util:10,"../":5,"../../global":9}],28:[function(t,e){(function(){function n(t){this.symbol=t}var r=t("util"),i=t("../"),s=t("../../global");e.exports=n,r.inherits(n,i);var o=n.prototype;o.differentiate=function(t){return this===t?s.One:s.Zero},o.integrate=function(t){return this===t?new Expression.NumericalReal(.5,0)["*"](t["^"](new Expression.NumericalReal(2,0))):this["*"](t)},o.sub=function(t,e){return this===t?e:this},o._s=function(t){return new t(this.symbol||"x_{free}")}})()},{util:10,"../":5,"../../global":9}],30:[function(t,e){function n(){}function r(t,e,n){this.a=t,this.b=e,this.operator=n}var i=t("util"),s=t("../");e.exports=r,i.inherits(n,s),i.inherits(r,s);var o=n.prototype,a=n.True=new n,u=n.False=new n;u["~"]=function(){return a},o["~"]=function(){return u},o.V=function(t){return t===a?t:this},o["^"]=function(t){return t===a?this:t};var o=r.prototype;o["="]=function(){},o["<"]=function(){},o.solve=function(t){var e=this.a["-"](this.b);return e.roots(t)}},{util:10,"../":5}],31:[function(t,e){(function(){function n(t){return t.__proto__=n.prototype,t}var r=t("util"),i=t("../"),s=t("../"),o=t("../../global");e.exports=n,r.inherits(n,i);var a=n.prototype;a[",."]=function(t){return n(Array.prototype.concat.call(this,[t]))},a.differentiate=function(t){return n(Array.prototype.map.call(this,function(e){return e.differentiate(t)}))},a.cross=function(t){if(3!==this.length||3!==t.length)throw"Cross product only defined for 3D vectors.";return new n([this[1].default(t[2])["-"](this[2].default(t[1])),this[2].default(t[0])["-"](this[0].default(t[2])),this[0].default(t[1])["-"](this[1].default(t[0]))])};var u=String.fromCharCode(215);a[u]=a.cross,a.default=function(t){var e=this.length;if(t instanceof n){if(e!==t.length)throw"Vector Dimension mismatch.";var r,i=o.Zero;for(r=0;e>r;r++)i=i["+"](this[r].default(t[r]));return i}return n(Array.prototype.map.call(this,function(e){return e.apply(t)}))},a["*"]=a.default,a["+"]=function(t,e){var r=this.length;if(r!==t.length)throw new MathError("Vector Dimension mismatch.");var i,s=Array(r);for(i=0;r>i;i++)s[i]=this[i][e||"+"](t[i]);return n(s)},a["-"]=function(t){return this["+"](t,"-")},a["/"]=function(t){if(t instanceof n)throw"Vector division not defined";return n(Array.prototype.map.call(this,function(e){return e["/"](t)}))},a["^"]=function(t){if(t instanceof s.Integer){if(0===t.a)throw"Raised to zero power";if(1===t.a)return this;if(2===t.a){var e,n=o.Zero,r=this.length;for(e=0;r>e;e++)n=n["+"](this[e]["^"](t));return n}return this["^"](new s.Integer(t.a-1))["*"](this)}if(t instanceof s.Rational)return this["^"](t.a)["^"](o.One["/"](t.b));if(t.constructor===s.NumericalComplex)return new s.Complex(this.value+t._real,t._imag);if(t.constructor===s.List.ComplexCartesian)return t["+"](this);if(t.constructor===s.List.ComplexPolar)return t["+"](this);if(t.constructor===s.List.Real)return t["+"](this);if(t.constructor===s.Symbol.Real)return t["+"](this);if(t.constructor===s.List)return t["+"](this);throw"Unknown Type for Vector ^"},a.old_apply_operator=function(t,e){var r,i=this.length;switch(t){case",":return this[i]=e,this;case void 0:case"*":if(i!==e.length)throw"Vector Dimension mismatch.";var s=M.Global.Zero;for(r=0;i>r;r++)s=s.apply("+",this[r].apply("*",e[r]));return s;case"+":case"-":if(i!==e.length)throw"Vector Dimension mismatch.";var o=Array(i);for(r=0;i>r;r++)o[r]=this[r].apply(t,e[r]);return n(o);case"/":case"^":break;default:throw"Vector operation not allowed."}},a.realimag=function(){var t,e=this.length,r=Array(e),i=Array(e);for(t=0;e>t;t++){var o=this[t].realimag();r[t]=o[0],i[t]=o[1]}return s.List.ComplexCartesian([n(r),n(i)])},a._s=function(t,e){var n=this.length,r="[",i="]";"x-shader/x-fragment"===e&&(r="vec"+this.length+"(",i=")");var s,o=this[0]._s(t,e),a=[];for(s=0;n>s;s++){var u=this[s]._s(t,e);a.push(u.s),o=o.merge(u)}return o.update(r+a.join(",")+i,1/0)}})()},{util:10,"../":5,"../../global":9}],32:[function(t,e){function n(t,e,r){if(t.__proto__=n.prototype,t.rows=e,t.cols=r,e!=r)throw Error("Matrix size mismatch");return t}var r=t("util"),i=t("../");e.exports=n,r.inherits(n,i);var s=n.prototype;s.default=s["*"]=function(t){if(t.constructor===Expression.Matrix){if(t.rows!==this.cols)throw"Matrix dimensions do not match.";var e,n,r,i=[],s=0;for(e=0;this.rows>e;e++)for(n=0;t.cols>n;n++){var o=Global.Zero;for(r=0;t.rows>r;r++)o=o["+"](t[r*t.cols+n]);i[s++]=o}return Expression.Matrix(i)}throw"Unknown type"},s.reduce=function(){var t,e;for(e=0;this.rows>e;e++)for(t=0;e>t;t++){var n=this[t*this.cols+t];if(n===Global.Zero)throw"Row swap!";var r,i=this[e*this.cols+t]["/"](n);for(r=t+1;this.cols>r;r++)this[e*this.cols+r]=this[e*this.cols+r]["-"](i["*"](this[t*this.cols+r]))}return this}},{util:10,"../":5}],33:[function(t,e){function n(t){this.default=t.default,this["text/latex"]=t["text/latex"],this["x-shader/x-fragment"]=t["x-shader/x-fragment"],this["text/javascript"]=t["text/javascript"],this.derivative=t.derivative,this.realimag=t.realimag}var r=t("util"),i=t("../"),s=t("../");e.exports=n,r.inherits(n,i);var o=n.prototype;o.default=function(){},o.differentiate=function(){if(this.derivative)return this.derivative;throw"EFunction has no derivative defined."},o._s=function(t,e){if(this[e])return new t(this[e]);throw"Could not compile function into "+e},o["+"]=function(t){var e=new s.Symbol;return new n.Symbolic(this.default(e)["+"](t),[e])},o["@-"]=function(){var t=new s.Symbol;return new n.Symbolic(this.default(t)["@-"](),[t])}},{util:10,"../":5}],35:[function(t,e){(function(){function n(t){this.x=t}var r=t("util"),i=t("../"),s=t("../../global"),o=t("../");e.exports=n,r.inherits(n,i);var a=n.prototype;a["+"]=function(t){if(t instanceof n)throw"Infinitesimal addition";return t},a["/"]=function(t){if(t instanceof n){if(t.x instanceof o.Symbol)return this.x.differentiate(t.x);throw"Confusing infitesimal division"}return this.x=this.x["/"](t),this},a["*"]=function(t){return t instanceof n?s.Zero:(this.x=this.x["*"](t),void 0)},a.s=function(t){if("text/latex"!==t)throw"Infinitesimal numbers cannot be exported to programming languages";var e=this.x.s(t),n=language.precedence("default");return n>e.p&&(e.s="\\left("+e.s+"\\right)"),e.update("d"+e.s,n)}})()},{util:10,"../":5,"../../global":9}],20:[function(t,e){(function(){function n(t,e){return t.__proto__=n.prototype,void 0!==e&&(t.operator=e),t}var r=t("util"),i=t("../"),s=t("../../"),o=t("../../../global");e.exports=n,r.inherits(n,i);var a=n.prototype;a.realimag=function(){return i.ComplexCartesian([this,o.Zero])},a.real=function(){return this},a.imag=function(){return o.Zero},a.polar=function(){return i.ComplexPolar([i.Real([o.abs,this]),i.Real([o.arg,this])])},a.abs=function(){return i.Real([o.abs,this])},a.arg=function(){return i.Real([o.arg,this])},a["+"]=function(t){return this===t?t["*"](new s.Integer(2)):t instanceof s.Rational&&0===t.a?this:t instanceof s.NumericalReal?"+"===this.operator&&this[1]instanceof s.NumericalReal?i.Real([this[0],this[1]["+"](t)],this.operator):"-"===this.operator&&this[1]instanceof s.NumericalReal?i.Real([this[0],t["-"](this[1])],"+"):i.Real([this,t],"+"):t instanceof i.Real||t instanceof s.Symbol.Real?i.Real([this,t],"+"):t["+"](this)},a["-"]=function(t){return t instanceof s.Rational&&0===t.a?this:t===this?o.Zero:t instanceof i.Real?"@-"===t.operator?i.Real([this,t[0]],"+"):i.Real([this,t],"-"):t instanceof s.Symbol.Real||t instanceof s.NumericalReal?i.Real([this,t],"-"):this.realimag()["-"](t)},a["*"]=function(t){return t instanceof s.Rational&&t.a===t.b?this:t instanceof s.Rational&&0===t.a?o.Zero:t instanceof s.NumericalReal?"*"===this.operator||"/"===this.operator&&this[0]instanceof s.NumericalReal?i.Real([this[0]["*"](t),this[1]],this.operator):i.Real([t,this],"*"):t instanceof i.Real||t instanceof s.Symbol.Real?(this[0]instanceof s.Function,i.Real([this,t],"*")):t["*"](this)},a["/"]=function(t){return t instanceof s.Rational&&t.a===t.b?this:t===this?o.One:t instanceof s.NumericalReal?"*"===this.operator||"/"===this.operator?i.Real([this[0]["/"](t),this[1]],this.operator):i.Real([this,t],"/"):t instanceof i.Real||t instanceof s.Symbol.Real?i.Real([this,t],"/"):this.realimag()["/"](t)},a["%"]=function(t){return i.Real([this,t],"%")},a["@-"]=function(){return"@-"===this.operator?this[0]:i.Real([this],"@-")},a["^"]=function(t){return t instanceof s.NumericalReal&&("*"===this.operator||"/"===this.operator&&this[0]instanceof s.NumericalReal)?i.Real([this[0]["^"](t),this[1]["^"](t)],this.operator):s.Symbol.Real.prototype["^"].call(this,t)},a.differentiate=function(t){return"+"===this.operator||"-"===this.operator||"@"===this.operator?this[0].differentiate(t)[this.operator](this[1]&&this[1].differentiate(t)):"*"===this.operator?this[0][this.operator](this[1].differentiate(t))["+"](this[1][this.operator](this[0].differentiate(t))):"/"===this.operator?this[1]["*"](this[0].differentiate(t))["-"](this[0]["*"](this[1].differentiate(t)))[this.operator](this[1]["*"](this[1])):void 0},a._s=function(t,e){function n(t){return"text/latex"===e?"\\left("+t+"\\right)":"("+t+")"}function r(t){return p>t.p?n(t.s):t.s}var i=t.language;if(void 0===this.operator){if(this[0]instanceof s.Function){if(this[0]===o.abs){var a=this[1]._s(t,e);if("text/latex"===e)return a.update("\\left|"+a.s+"\\right|",1/0);var u=this[0]._s(t,e);return a.update(u.s+"("+a.s+")",1/0)}var u=this[0]._s(t,e);if(this[1]instanceof s.Vector){var l,c=Array.prototype.map.call(this[1],function(n){return n._s(t,e)}),h=c.map(function(t){return t.s});this[0]===o.atan&&(h=h.reverse());var f=u.s;for(l=0;c.length>l;l++)u.merge(c[l]);return u.update(f+n(h),i.operators.default.precedence)}var a=this[1]._s(t,e);return u.merge(a,u.s+n(a.s),i.operators.default.precedence)}this.operator="*"}var p=i.operators[this.operator].precedence;if("^"===this.operator){if("x-shader/x-fragment"===e){if(this[0]===o.e){var a=this[1]._s(t,e);return a.update("exp("+a.s+")")}if(this[1]instanceof s.Integer&&5>this[1].a&&this[1].a>-1){var u=this[0]._s(t,e);i.operators["*"].precedence;var m,g=void 0;this[0]instanceof s.Symbol?m=u.s:(m=u.var(),g="float "+m+" = "+u.s+";");var l,v=m;for(l=1;this[1].a>l;l++)v+="*"+m;return u.update("("+v+")",1/0,g)}if(this[1]instanceof s.Integer&&-1==this[1].a){var u=this[0]._s(t,e);return u.update("(1.0/("+u.s+"))")}if(this[1]instanceof s.Rational){this[1]=this[1].reduce();var y=this[1].a%2?!1:!0;if(y){var a=this[1]._s(t,e),u=this[0]._s(t,e);return u.merge(a,"pow("+u.s+","+a.s+")")}var a=this[1]["-"](o.One)._s(t,e),u=this[0].s_(t,e);return u.merge(a,"(("+u.s+") * pow("+u.s+","+a.s+"))")}if(this[0]instanceof s.NumericalReal){var a=this[1]["-"](o.One)._s(t,e),u=this[0]._s(t,e);return u.merge(a,"(("+u.s+") * pow("+u.s+","+a.s+"))")}var a=this[1]["-"](o.One)._s(t,e),u=this[0]._s(t,e);return u.merge(a,"(("+u.s+") * pow("+u.s+","+a.s+"))")}if("text/javascript"===e){if(this[0]===o.e){var a=this[1]._s(t,e);return a.update("Math.exp("+a.s+")")}var a=this[1]._s(t,e),u=this[0]._s(t,e);if(this[1]instanceof s.Rational){var y=this[1].a%2?!1:!0;return y?u.merge(a,"Math.pow("+u.s+","+a.s+")"):u.merge(a,"Math.pow("+u.s+","+a.s+")")}return u.merge(a,"Math.pow("+u.s+","+a.s+")")}if("text/latex"===e){var u=this[0]._s(t,e),a=this[1]._s(t,e);return u.merge(a,r(u)+"^"+"{"+a.s+"}")}}var u=this[0]._s(t,e);if("@"===this.operator[0])return u.update(this.operator[1]+r(u),p);var a=this[1]._s(t,e);if("text/latex"===e){if("/"===this.operator)return u.merge(a,"\\frac{"+u.s+"}{"+a.s+"}");if("*"===this.operator)return u.merge(a,r(u)+r(a),p)}else if("x-shader/x-fragment"===e&&"%"===this.operator)return u.merge(a,"mod("+r(u)+","+r(a)+")",p);return u.merge(a,r(u)+this.operator+r(a),p)}})()},{util:10,"../":19,"../../":5,"../../../global":9}],21:[function(t,e){function n(t){return t.__proto__=n.prototype,t}var r=t("util"),i=t("../");e.exports=n,r.inherits(n,i);var s=n.prototype;s.realimag=function(){return this},s.real=function(){return this[0]},s.imag=function(){return this[1]},s.conjugate=function(){return n([this[0],this[1].apply("@-")])},s["@-"]=function(){return new n([this[0]["@-"](),this[1]["@-"]()])},s["*"]=function(t){return t instanceof n?new n([this[0]["*"](t[0])["-"](this[1]["*"](t[1])),this[0]["*"](t[1])["+"](this[1]["*"](t[0]))]):t instanceof Expression.List.Real||t instanceof Expression.Symbol.Real||t instanceof Expression.NumericalReal?new n([this[0]["*"](t),this[1]["*"](t)]):void 0},s["^"]=function(t){if(t instanceof Expression.Integer){if(t instanceof Expression.Rational&&t.a===t.b)return this;if(t instanceof Expression.Rational&&0===t.a)return Global.One;var e,r=t.a,i=this[0],s=this[1];new Expression.Integer(-1);var o=Global.Zero,a=i["^"](new Expression.Integer(r)),u=1;for(e=1;;e++){var l;if(e===r){l=s["^"](new Expression.Integer(e)),0===u?a=a["+"](l):1===u?o=o["+"](l):2===u?a=a["-"](l):3===u&&(o=o["-"](l),u=-1);break}l=i["^"](new Expression.Integer(r-e))["*"](s["^"](new Expression.Integer(e))),0===u?a=a["+"](l):1===u?o=o["+"](l):2===u?a=a["-"](l):3===u&&(o=o["-"](l),u=-1),u++}return new n([a,o])}return new Expression.List([this,t],"^")},s["+"]=function(t){return t instanceof n?new n([this[0]]):t instanceof Expression.List.Real||t instanceof Expression.Symbol.Real||t instanceof Expression.NumericalReal?new n([this[0]["+"](t),this[1]]):void 0},s.differentiate=function(t){return n([this[0].differentiate(t),this[1].differentiate(t)])}},{util:10,"../":19}],22:[function(t,e){function n(t){return t.__proto__=n.prototype,t}var r=t("util"),i=t("../"),s=t("../../");e.exports=n,r.inherits(n,i);var o=n.prototype;o.polar=function(){return this},o.realimag=function(){return s.List.ComplexCartesian([this[0].apply("*",Global.cos.apply(void 0,this[1])),this[0].apply("*",Global.sin.apply(void 0,this[1]))])},o.real=function(){return this[0].apply("*",Global.cos.apply(void 0,this[1]))},o.imag=function(){return this[0].apply("*",Global.sin.apply(void 0,this[1]))},o.conjugate=function(){return n([this[0],this[1].apply("@-")])},o.differentiate=function(t){return Global.e.apply("^",Global.i.apply("*",this[1])).apply("*",this[0].differentiate(t).apply("+",Global.i.apply("*",this[0]).apply("*",this[1].differentiate(t))))},o.abs=function(){return this[0]},o.arg=function(){return this[1]}},{util:10,"../":19,"../../":5}],24:[function(t,e){function n(t,e){this._real=t,this._imag=e}var r=t("util"),i=t("../");e.exports=n,r.inherits(n,i);var s=n.prototype;s.real=function(){return new Expression.NumericalReal(this._real)},s.imag=function(){return new Expression.NumericalReal(this._imag)},s.realimag=function(){return Expression.List.ComplexCartesian([new Expression.NumericalReal(this._real),new Expression.NumericalReal(this._imag)])},s.conjugate=function(){return new Expression.NumericalComplex(this._real,-this._imag)},s["+"]=function(t){if(0===this._real&&0===this._imag)return t;if(t instanceof Expression.NumericalComplex)return new Expression.NumericalComplex(this._real+t._real,this._imag+t._imag);if(t instanceof Expression.NumericalReal)return new Expression.NumericalComplex(this._real+t.value,this._imag);if(t.constructor===Expression.List.ComplexCartesian)return t["+"](this);if(t.constructor===Expression.List.ComplexPolar)return t["+"](this);if(t.constructor===Expression.List.Real)return t["+"](this);if(t.constructor===Expression.Symbol.Real)return t["+"](this);if(t.constructor===Expression.List)return t["+"](this);throw"Unknown Type for NumericalComplex +"},s["-"]=function(t){if(0===this._real&&0===this._imag)return t["@-"]();if(t instanceof Expression.NumericalComplex)return new Expression.NumericalComplex(this._real-t._real,this._imag-t._imag);if(t.constructor===Expression.NumericalReal)return new Expression.NumericalComplex(this._real-t.value,this._imag);if(t.constructor===Expression.List.ComplexCartesian)return t["@-"]()["+"](this);if(t.constructor===Expression.List.ComplexPolar)return t["@-"]()["+"](this);if(t.constructor===Expression.List.Real)return t["@-"]()["+"](this);if(t.constructor===Expression.Symbol.Real)return t["@-"]()["+"](this);if(t.constructor===Expression.List)return t["@-"]()["+"](this);throw"Unknown Type for NumericalComplex -"},s["*"]=function(t){if(0===this._imag){if(0===this._real)return Global.Zero;if(1===this._real)return t}if(t.constructor===this.constructor)return new Expression.NumericalComplex(this._real*t._real-this._imag*t._imag,this._real*t._imag+this._imag*t._real);if(t.constructor===Expression.NumericalReal)return new Expression.NumericalComplex(this._real*t.value,this._imag*t.value);if(t.constructor===Expression.List.ComplexCartesian)return t["*"](this);if(t.constructor===Expression.List.ComplexPolar)return t["*"](this);if(t.constructor===Expression.List.Real)return t["*"](this);if(t.constructor===Expression.Symbol.Real)return t["*"](this);if(t.constructor===Expression.List)return t["*"](this);throw"Unknown Type for NumericalComplex *"},s["/"]=function(t){if(0===this._imag&&0===this._real)return Global.Zero;if(t.constructor===this.constructor){var e=t._real*t._real+t._imag*t._imag;return new Expression.NumericalComplex((this._real*t._real+this._imag*t._imag)/e,(this._imag*t._real-this._real*t._imag)/e)}if(t.constructor===Expression.NumericalReal)return new Expression.NumericalComplex(this._real/t.value,this._imag/t.value);if(t.constructor===Expression.List.ComplexCartesian)return this.realimag()["/"](t);if(t.constructor===Expression.List.ComplexPolar)return this.polar()["/"](t);if(t.constructor===Expression.List.Real)return Expression.List([this,t],"/");if(t.constructor===Expression.Symbol.Real)return Expression.List([this,t],"/");if(t.constructor===Expression.List)return Expression.List([this,t],"/");throw"Unknown Type for NumericalComplex /"},s["!"]=function(){return Global.Gamma.apply(this)}},{util:10,"../":23}],29:[function(t,e){(function(){function n(t){this.symbol=t}var r=t("util"),i=t("../"),s=t("../../../global"),o=t("../../");e.exports=n,r.inherits(n,i);var a=n.prototype;a.realimag=function(){return o.List.ComplexCartesian([this,s.Zero])},a.real=function(){return this},a.imag=function(){return s.Zero},a.polar=function(){return o.List.ComplexPolar([o.List.Real([s.abs,this]),o.List.Real([s.arg,this])])},a.abs=function(){return o.List.Real([s.abs,this])},a.arg=function(){return o.List.Real([s.arg,this])},a["+"]=function(t){return t===s.Zero?this:t instanceof o.NumericalReal?new o.List.Real([this,t],"+"):t instanceof o.Symbol.Real?new o.List.Real([this,t],"+"):t instanceof o.Symbol?new o.List([this,t],"+"):t["+"](this)
},a["-"]=function(t){return this===t?s.Zero:t instanceof o.Symbol.Real?new o.List.Real([this,t],"-"):t instanceof o.List.Real?"@-"===t.operator?new o.List.Real([this,t[0]],"+"):new o.List.Real([this,t],"-"):t instanceof o.Symbol?new o.List([this,t],"-"):t["@-"]()["+"](this)},a["@+"]=function(){return o.List.Real([this],"@+")},a["@-"]=function(){return o.List.Real([this],"@-")},a["*"]=function(t){return t instanceof o.Rational&&t.a===t.b?this:t instanceof o.Rational&&0===t.a?s.Zero:t instanceof o.Symbol.Real?new o.List.Real([this,t],"*"):t instanceof o.List.Real?t["*"](this):t instanceof o.Symbol?new o.List([this,t],"*"):t instanceof o.NumericalReal?new o.List.Real([t,this],"*"):t instanceof o.NumericalComplex?new o.List.Real([this,t],"*"):t instanceof o.List.ComplexCartesian?t["*"](this):t["*"](this)},a.apply=a["*"],a["/"]=function(t){if(t instanceof o.Rational&&t.a===t.b)return this;if(t instanceof o.Rational&&0===t.a)throw"Division by zero";return o.List.Real([this,t],"/")},a["^"]=function(t){if(t instanceof o.Rational&&0===t.a)return s.One;if(t instanceof o.Rational&&t.a===t.b)return this;if(t instanceof o.Integer)return o.List.Real([this,t],"^");if(t instanceof o.Rational){var e=t.reduce();if(0===e.a%2)return o.List.Real([this,t],"^")}return o.List([this,t],"^")},a["%"]=function(t){return o.List.Real([this,t],"%")},a.applyOld=function(){throw"Real.apply"}})()},{util:10,"../":28,"../../../global":9,"../../":5}],34:[function(t,e){function n(t,e){this.expr=t,this.symbols=e}var r=t("util"),i=t("../"),s=t("../../");e.exports=n,r.inherits(n,i);var o=n.prototype;o.default=function(t){t.constructor!==s.Vector&&(t=s.Vector([t]));var e,n=this.expr,r=this.symbols.length;if(r!==t.length)throw"Invalid domain. Element of F^"+r+" expected.";for(e=0;r>e;e++)n=n.sub(this.symbols[e],t[e]);return n}},{util:10,"../":33,"../../":5}],25:[function(t,e){function n(t){this.value=t}var r=t("util"),i=t("../"),s=t("../../../");e.exports=n,r.inherits(n,i);var o=n.prototype;Object.defineProperty(o,"_real",{get:function(){return this.value}}),o._imag=0,o.real=function(){return this},o.imag=function(){return Global.Zero},o.realimag=function(){return s.List.ComplexCartesian([this,Global.Zero])},o.conjugate=function(){return this},o["+"]=function(t){return 0===this.value?t:t instanceof n?new n(this.value+t.value):t["+"](this)},o["@-"]=function(){return new n(-this.value)},o["-"]=function(t){return 0===this.value?t:t instanceof n?new n(this.value-t.value):t["@-"]()["+"](this)},o["%"]=function(t){var e="The modular arithmetic operator '%' is not defined for non-real numbers.";if(0===this.value)return Global.Zero;if(t instanceof n)return new n(this.value%t.value);if(t.constructor===s.List.Real)return s.List.Real([this,t],"%");if(t.constructor===s.Symbol.Real)return s.List.Real([this,t],"%");throw t.constructor===s.List?"Not sure about this...":t.constructor===s.NumericalComplex?new TypeError(e):t.constructor===s.List.ComplexCartesian?new TypeError(e):t.constructor===s.List.ComplexPolar?new TypeError(e):"Unknown Type for NumericalReal %"},o["*"]=function(t){return t instanceof n?new n(this.value*t.value):t["*"](this)},o["/"]=function(t){if(0===this.value)return Global.Zero;if(t instanceof n){if(0===t.value)throw"Division by zero not allowed!";return new n(this.value/t.value)}if(t.constructor===s.NumericalComplex){var e=t._real*t._real+t._imag*t._imag;return new s.Complex(this.value*t._real/e,-this.value*t._imag/e)}if(t instanceof s.List.ComplexCartesian){var r=s.List.ComplexCartesian([t[0],t[1]["@-"]()]),i=n(2);return r["*"](this)["/"](t[0]["^"](i)["+"](t[1]["^"](i)))}if(t instanceof s.List.Real)return s.List.Real([this,t],"/");if(t instanceof s.Symbol.Real)return s.List.Real([this,t],"/");if(t instanceof s.List)return s.List([this,t],"/");throw console.log("Unknown type: ",this,t),"Unknown Type for NumericalReal /"},o["^"]=function(t){if(0===this.value)return Global.Zero;if(1===this.value)return Global.One;if(t===Global.Zero)return Global.One;if(t===Global.One)return this;if(t instanceof s.Integer)return new n(Math.pow(this.value,t.a));if(t instanceof n){if(this.value>0)return new n(Math.pow(this.value,t.value));var e=Math.pow(-this.value,t.value),r=Math.PI*t.value;return new s.List.ComplexPolar([new n(e),new n(r)])}if(t.constructor===s.NumericalComplex){var i=this.value,o=t._real,a=t._imag;console.error("Bad implementation ( num ^ complex)");var u=.5*Math.log(i*i),l=u*a,c=Math.exp(u*o);return new s.NumericalComplex(c*Math.cos(l),c*Math.sin(l))}if(t.constructor===s.List.ComplexCartesian)return s.List([this,t],"^");if(t.constructor===s.List.ComplexPolar)return s.List([this,t],"^");if(t.constructor===s.List.Real)return this.value>0?s.List.Real([this,t],"^"):s.List([this,t],"^");if(t.constructor===s.Symbol.Real)return this.value>0?s.List.Real([this,t],"^"):s.List([this,t],"^");if(t.constructor===s.List)return s.List([this,t],"^");throw console.error("Unknown Type for NumericalReal ^",t,t instanceof n)},o[">"]=function(t){return t instanceof n?this.value>t.value?s.True:s.False:i.prototype[">"].call(this,t)},o["<"]=function(t){return t instanceof n?this.value<t.value?s.True:s.False:i.prototype["<"].call(this,t)},o["<="]=function(t){return t instanceof n?this.value<=t.value?s.True:s.False:i.prototype["<="].call(this,t)},o[">="]=function(t){return t instanceof n?this.value>=t.value?s.True:s.False:i.prototype[">="].call(this,t)},o._s=function(t,e){if("x-shader/x-fragment"===e){var n=this.value.toExponential();return-1===n.indexOf(".")&&(n=n.replace("e",".e")),new t(n)}return new t(""+this.value)}},{util:10,"../":24,"../../../":5}],26:[function(t,e){function n(t,e){this.a=t,this.b=e}var r=t("util"),i=t("../"),s=t("../../../../");e.exports=n,r.inherits(n,i);var o=n.prototype;o.__defineGetter__("value",function(){return this.a/this.b}),o["+"]=function(t){return 0===this.a?t:t instanceof n?new n(this.a*t.b+this.b*t.a,this.b*t.b):t.constructor===s.NumericalComplex?new s.NumericalComplex(this.value+t._real,t._imag):t.constructor===s.List.ComplexCartesian?t["+"](this):t.constructor===s.List.ComplexPolar?t["+"](this):t.constructor===s.List.Real?t["+"](this):t.constructor===s.Symbol.Real?t["+"](this):t.constructor===s.List?t["+"](this):(console.warn("Swapped operator order for + with Rational"),t["+"](this))},o["-"]=function(t){return 0===this.a?t["@-"]():t instanceof n?new n(this.a*t.b-this.b*t.a,this.b*t.b):t.constructor===s.NumericalComplex?new s.NumericalComplex(this.value-t._real,t._imag):t.constructor===s.List.ComplexCartesian?t["@-"]()["+"](this):t.constructor===s.List.ComplexPolar?t["@-"]()["+"](this):t.constructor===s.List.Real?t["@-"]()["+"](this):t.constructor===s.Symbol.Real?t["@-"]()["+"](this):t.constructor===s.List?t["@-"]()["+"](this):(console.warn("Swapped operator order for - with Rational"),t["+"](this))},o["*"]=function(t){return 0===this.a?Global.Zero:t instanceof this.constructor?new n(this.a*t.a,this.b*t.b):i.protoype["*"].call(this,t)},o["/"]=function(t){if(0===this.a)return Global.Zero;if(t instanceof this.constructor){if(0===t.a)throw"Division By Zero is not defined for Rational numbers!";return new n(this.a*t.b,this.b*t.a).reduce()}return s.NumericalReal.prototype["/"].call(this,t)},o["^"]=function(t){if(t===Global.Zero)return Global.One;if(t===Global.One)return this;if(0===this.a)return Global.Zero;if(this.a===this.b)return Global.One;if(t instanceof s.Integer)return new n(Math.pow(this.a,t.a),Math.pow(this.b,t.a));if(t instanceof n){var e=t.reduce();return 0===e.a%2?new s.NumericalReal(Math.pow(Math.pow(this.a,e.a),1/e.b)):s.NumericalReal.prototype["^"].call(this,t)}return s.List([this,t],"^")},o.reduce=function(){function t(e,n){return 0===n?e:t(n,e%n)}var e=t(this.b,this.a);return this.a/=e,this.b/=e,1===this.b?new s.Integer(this.a):(0>this.b&&(this.a=-this.a,this.b=-this.b),this)}},{util:10,"../":25,"../../../../":5}],27:[function(t,e){function n(t){this.a=t}var r=t("util"),i=t("../");e.exports=n,r.inherits(n,i);var s=n.prototype;s.b=1,s["+"]=function(t){return t instanceof n?new n(this.a+t.a):t["+"](this)},s["-"]=function(t){return t instanceof n?new n(this.a-t.a):i.prototype["-"].call(this,t)},s["/"]=function(t){return t instanceof n?0===this.a%t.a?new n(this.a/t.a):new Expression.Rational(this.a,t.a):i.prototype["/"].call(this,t)},s["@-"]=function(){return new n(-this.a)},s["*"]=function(t){return t instanceof n?new n(this.a*t.a):t["*"](this)},s["^"]=function(t){if(t instanceof n)return new n(Math.pow(this.a,t.a));if(t.constructor===Expression.Rational){var e=t.reduce();return 0===e.a%2?new Expression.NumericalReal(Math.pow(Math.pow(this.a,e.a),1/e.b)):Expression.NumericalReal.prototype["^"].call(this,t)}return(t.constructor===Expression.List.Real||t.constructor===Expression.Symbol.Real)&&this.a>0?Expression.List.Real([this,t],"^"):Expression.NumericalReal.prototype["^"].call(this,t)},s["%"]=function(t){return t instanceof n?new n(this.a%t.a):t.constructor===Expression.Rational?new Expression.Rational:t.constructor===Expression.NumericalReal?new Expression.NumericalReal(this%t.value):Expression.List.Real([this,t],"%")},s._s=function(t,e){return"x-shader/x-fragment"===e?new t(""+this.a+".0"):new t(""+this.a)}},{util:10,"../":26}]},{},[1]);